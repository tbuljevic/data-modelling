<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Data modelling: Blueprinting successful projects</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/league.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section data-background-image="img/blueprint-background.jpg">
					<h2>Data modelling: Blueprinting successful projects</h2>

					<p>Tomislav Buljević</p>

					<p>@tomebuljevic</p>
				</section>
				<section data-background-image="img/whiteboard.jpg">
					<section>
						<h3>What <u>is</u> data modelling?</h3>
					</section>
					<section>
						<p>Process of creating a model of data stored in the database.</p>

						<ul>
							<li class="fragment fade">data objects (entities)</li>
							<li class="fragment fade">their relationships</li>
							<li class="fragment fade">rules</li>
						</ul>

						<aside class="notes">
							When creating a model of data, we need to pay attention to data objects, their relationships and the rules which guide those relationships.
						</aside>
					</section>
					<section>
						<h3>Problems surrounding data modelling?</h3>

						<ul>
							<li class="fragment fade">often overlooked</li>
							<li class="fragment fade">grows organically</li>
							<li class="fragment fade">mistakes cost A LOT</li>
						</ul>

						<aside class="notes">
							Data modelling is often overlooked and grows organically. Developers often do not see a need for creating a data model beforehand, instead opting for a more top-down approach where they create the code instead of creating the data model first.<br>
							In that regard, I'm advocating a bottom-up approach to development, since, with a good data model, you're actually laying a foundation for your application before you translate it into code.<br>
							Because mistakes can and do cost a lot. Imagine an entity which has a certain attribute. This attribute covers the case for the time being, but 6 months later, the application for the
							attribute changes. The cost part is hidden in the amount of time needed to refactor things.
						</aside>
					</section>
				</section>
				<section data-background-image="img/levels.jpg">
					<section>
						<h3>Several levels of the process</h3>

						<ul>
							<li class="fragment fade">Conceptual</li>
							<li class="fragment fade">Logical</li>
							<li class="fragment fade">Physical</li>
						</ul>
					</section>
					<section>
						<h4>Conceptual</h4>

						<ul>
							<li class="fragment fade">business side of the project</li>
							<li class="fragment fade">received through the documentation</li>
							<li class="fragment fade">system and database agnostic</li>
							<li class="fragment fade">data as the user will see it</li>
						</ul>
					</section>
					<section>
						<h4>Logical</h4>

						<ul>
							<li class="fragment fade">development side of the project</li>
							<li class="fragment fade">defines the logical relationships of the data objects</li>
							<li class="fragment fade">database agnostic</li>
							<li class="fragment fade">data as the developer will see it</li>
						</ul>
					</section>
					<section>
						<h4>Physical</h4>

						<ul>
							<li class="fragment fade">development side of the project</li>
							<li class="fragment fade">defines the relationships of the data objects in the database (primary keys, functions, views, etc.)</li>
							<li class="fragment fade">data as the system will see it</li>
							<li class="fragment fade">depends on the implementation system</li>
						</ul>
					</section>
					<section>
						<h4>Most important level for developers?</h4>

						<h3 class="fragment fade">Logical</h3>

						<aside class="notes">
							The logical level is most important for developers since it gives devs a bigger picture of the system which is being built.
							It acts as a bridge between the conceptual and physical levels since this is the part where business and development coincide.
						</aside>
					</section>
				</section>
				<section data-background-image="img/logical.jpg">
					<section>
						<h3>Logical data modelling</h3>

						<ul>
							<li class="fragment fade">Structure and hierarchy of data</li>
							<li class="fragment fade">How one data object influences others</li>
							<li class="fragment fade">How usable is the data object to the end-user</li>
						</ul>

						<aside class="notes">
							Logical data modelling takes structure and hierarchy of data into consideration, and this is the step where we
							determine how a data object influences others.<br>
							<br>
							Also, this is the step where you might want to start thinking about the usability of entities (not just the
							interaction between them), but also what we want to show the user based on business decisions.
						</aside>
					</section>
					<section>
						<h3>How to begin?</h3>

						<ul>
							<li class="fragment fade">take a look at the conceptual side of things</li>
							<li class="fragment fade">object variability (conceptually, what influences the object most?)</li>
						</ul>
					</section>
					<section>
						<h3>What to take into consideration</h3>

						<ul>
							<li class="fragment fade">how we are going to fetch data from the database</li>
							<li class="fragment fade">frequency of inputting an object in the database</li>
							<li class="fragment fade">how data should be input</li>
							<li class="fragment fade">which groups of data are shown together on a single screen</li>
						</ul>

						<aside class="notes">
							Thinking about data fetching at this point helps optimize the system in the future.
							Of course, you won't know exactly how it will grow over time, but there are some basic thing to take into consideration.<br>
							Is this an object which will be added or updated more or less frequently over time?
							This is an important question because we then understand the most important parts of the project.<br>
							Is it based on user input, a predefined import, a calculation, or something else entirely?<br />
							Groups of data shown together on a single screen are, more often than not, objects with direct interconnections.
						</aside>
					</section>
					<section>
						<h3>How to avoid common pitfalls</h3>

						<ul>
							<li class="fragment fade">try to make your entities small(ish)</li>
							<li class="fragment fade">the more entities, the merrier</li>
							<li class="fragment fade">revise the relationships between entities</li>
						</ul>

						<aside class="notes">
							Entities are, when used in a giant platform, almost living, breathing things, subject to change.
							When designing an entity, one should ask themself: What is the absolute minimum of data I need to store in that entity?<br>
							<br>
							I'm not saying you should make an entity out of every single particle in your system, but chunkizing content into smaller
							entities actually helps you make the system more modular.<br>
							<br>
							One should not only look at the relationship and follow a pattern. Instead, one should also consider the context of said relationship
							and how it affects the overall project. Example: One-to-Many vs. Many-to-One.
						</aside>
					</section>
				</section>
				<section data-background-image="img/shoes.jpg">
					<section>
						<h3>Example</h3>

						<ul>
							<li class="fragment fade">shoe manufacturer wants to revamp their business</li>
							<li class="fragment fade">all they have is a catalogue of products</li>
						</ul>
					</section>
					<section>
						<table>
							<thead>
								<th>Name</th>
								<th>Model</th>
								<th>Color</th>
								<th>Size</th>
							</thead>
							<tbody>
								<tr>
									<td>Jazz</td>
									<td>Sneaker</td>
									<td>Blue / Red / White</td>
									<td>40-45</td>
								</tr>
								<tr>
									<td>Hip-Hop</td>
									<td>Sneaker</td>
									<td>Blue / Green / Red</td>
									<td>40-42</td>
								</tr>
								<tr>
									<td>Metal</td>
									<td>Sneaker</td>
									<td>Black</td>
									<td>40-43</td>
								</tr>
								<tr>
									<td>Posh</td>
									<td>Oxford</td>
									<td>Black / White</td>
									<td>40-46</td>
								</tr>
								<tr>
									<td>Student</td>
									<td>Oxford</td>
									<td>Black / Brown</td>
									<td>40-46</td>
								</tr>
								<tr>
									<td>Business</td>
									<td>Oxford</td>
									<td>Black / Brown</td>
									<td>40-46</td>
								</tr>
							</tbody>
						</table>

						<aside class="notes">
							This is the client's selection.<br>
							They have a selection of sneakers, and a selection of oxfords available in a variety of colours.<br>
							They want to have a digital catalogue similar to the print, but on a page. They also want to search the models and get some results.
						</aside>
					</section>
					<section>
						<table>
							<thead>
							<th>Name</th>
							<th>Colour</th>
							<th>Region</th>
							<th>Year</th>
							<th>Price</th>
							</thead>
							<tbody>
							<tr>
								<td>Jazz</td>
								<td>Blue</td>
								<td>East</td>
								<td>2019</td>
								<td>€ 20</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Blue</td>
								<td>West</td>
								<td>2019</td>
								<td>€ 22</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Red</td>
								<td>East</td>
								<td>2019</td>
								<td>€ 15</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Red</td>
								<td>West</td>
								<td>2019</td>
								<td>€ 17</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Blue</td>
								<td>East</td>
								<td>2020</td>
								<td>€ 18</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Blue</td>
								<td>NorthWest</td>
								<td>2020</td>
								<td>€ 20</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Red</td>
								<td>East</td>
								<td>2020</td>
								<td>€ 17</td>
							</tr>
							<tr>
								<td>Jazz</td>
								<td>Red</td>
								<td>SouthWest</td>
								<td>2020</td>
								<td>€ 19</td>
							</tr>
							</tbody>
						</table>

						<aside class="notes">
							The client owns a number of factories in a country.<br>
							Each Price for each Region of a country is calculated by that region's distance from a factory due to logistics.<br>
							Also, Prices are determined based on the sales of an item. If a model is sold more the previous year, the price will go up, and vice versa.<br>
							The client wants to enter prices manually.
						</aside>
					</section>
				</section>
				<section data-background-image="img/shoes.jpg">
					<section>
						<h3>Model observations</h3>

						<ul>
							<li class="fragment fade-down">a single shoe has a name, model, color and size</li>
							<li class="fragment fade-down">the price for the shoe changes depending on the year and region</li>
							<li class="fragment fade-down">there's a possibility for the region to change in time</li>
						</ul>
					</section>
					<section>
						<h3>Needs of the client</h3>

						<p>On the search page, the client wants to: </p>

						<ul>
							<li>select a region</li>
							<li>show prices for the current year</li>
							<li>have an archive of the prices</li>
						</ul>
					</section>
				</section>
				<section data-background-image="img/shoes.jpg">
					<section>
						<h3>Sort out the priorities</h3>

						<p>Which element:</p>
						<ul>
							<li>can/should stand alone?</li>
							<li>influences others the most?</li>
							<li>has its own hierarchy?</li>
							<li>can/should be replaced with an attribute?</li>
						</ul>
					</section>
					<section>
						<h3>Start from the general, working your way to the individual</h3>

						<p>Most important elements: </p>

						<p class="fragment fade">Shoe</p>

						<p class="fragment fade">Region</p>

						<p class="fragment fade">Year</p>

						<p class="fragment fade">Price</p>

						<aside class="notes">
							Shoe is a single article, obvious enough.<br>
							Region is also obvious since there are multiple of those objects.<br>
							Couldn't year be a single entry for a region or a shoe? No, since we would have multiple articles with the same atributes for different years.
							Also, if we put a year as an attribute of a region, how do we differentiate regions with the same name without that year influencing the choice?<br>
							Can price be a field of a shoe? Again, no, since the data shows that the price for a single article changes from region to region and from year to year.<br>
							Therefore, we conclude that these 4 entities MUST stand alone.
						</aside>
					</section>
					<section>
						<h3>The model?</h3>

						<p>All the things are strings!</p>

						<p><img src="img/shoe-initial.png" /></p>

						<small>* Done with <a href="https://dbdiagram.io">https://dbdiagram.io</a></small>

						<aside class="notes">
							This is by far the "easiest" approach. But also, prone to most bugs, longest development time, and an endless amount of exceptions.<br>
							<br>
							Due to the fact that we're letting the admin enter whatever they will, the validation of this model takes an incredible amount of hard work to get right properly. And even when you think you've covered all cases, you're still not sure if you actually have.
						</aside>
					</section>
				</section>
				<section data-background-image="img/shoes.jpg">
					<section>
						<h3>Determine hierarchy and modularity</h3>

						<p>Shoe</p>

						<p>Name - unique for each article</p>

						<p>Model - unique for each group</p>

						<p>Color - how do we determine uniqueness?</p>

						<p>Size - unique for each article; a known limited range</p>

						<aside class="notes">
							Name is unique to each article. Therefore it can stand alone as field for entry.<br>
							Model can be Oxford or Sneaker, that much is clear.<br>
							As we can see from the table, black and white are available for sneaker and oxford, brown is available for oxford only, and blue, red, and green are available for sneaker only. Here's a possible false conclusion. This one will need to be determined with business.<br>
							Size is a known limited range. Shoe-makers have the sizes already. So how do we approach this? Will it be a standalone object or an attribute?
						</aside>
					</section>
					<section>
						<ul>
							<li>Does the manufacturer regularly add new models?</li>
							<li>Do they add new colors?</li>
							<li>Will we ever need to filter out shoes based on Type or Color or Size?</li>
						</ul>
					</section>
					<section>
						<h3>If the shoe fits...</h3>
						<img src="img/shoe-model.png" height="500" />
					</section>
				</section>
				<section data-background-image="img/shoes.jpg">
					<section>
						<h3>What about the rest of the model?</h3>

						<ul>
							<li>Is a region completely dependant on year?</li>
							<li>Will we need to add new things to a region?</li>
						</ul>
					</section>
					<section>
						<h3>Hierarchy and relations</h3>

						<p>One possible solution</p>
						<img src="img/entire-model.png" width="900" />

					</section>
				</section>
				<section data-background-image="img/blueprint-background.jpg">
					<section>
						<h3>Important guidelines</h3>

						<ul>
							<li class="fragment fade-down">watch out for relations</li>
							<li class="fragment fade-down">be precise and concise</li>
							<li class="fragment fade-down">always question the variability of objects</li>
							<li class="fragment fade-down">make it modular</li>
						</ul>

						<aside class="notes">
							Relations are everything. The way the entities are related to one another will definitely influence them in ways you cannot even imagine.<br>
							You really only need to put in the bare minimum into a single entity. If a field in an entity is mutable based on external factors, it's probably better to add a new entity.<br>
							This is directly linked to the two points mentioned above because objects influence others, and you always want to lower interference as much as possible.<br>
							If you follow the three points mentioned above, your system will be modular enough for adding new features and possibly turning them off as necessary.
						</aside>
					</section>
					<section>
						<h3>Important guidelines</h3>

						<ul>
							<li class="fragment fade-down">after you create a data model, review it... possibly with a peer</li>
							<li class="fragment fade-down">if possible, draw conclusions from historical data - it will make your life easier</li>
							<li class="fragment fade-down">each time you add a new feature, revisit your model</li>
							<li class="fragment fade-down">you gotta know when to hold 'em and when to fold 'em</li>
						</ul>

						<aside class="notes">
							Two pairs of eyes are always better than one. It's always good to get a fresh perspective on things when talking with a peer.<br>
							Basically, if a value changed in the past, there's a high possibility of change in the future.<br>
							When you get a request for a new feature, you'll need to see how it fits into your model and if a refactor is necessary. But this is a good thing since it lowers your technical debt.<br>
							You can go overboard with granulation of the model. In fact, you probably will at some point. As your experience grows, you'll be able to more accurately pin point the level of granulation needed.
						</aside>
					</section>
					<section>
						<h3>General conclusions</h3>

						<blockquote>
							"The only constant in life is change"<br>

							-- Heraclitus
						</blockquote>
						<ul>
							<li class="fragment fade-down">your model is not set in stone - it will change over time</li>
							<li class="fragment fade-down">development is a lot easier and faster with a handy data model</li>
							<li class="fragment fade-down">try not to abuse the model too much</li>
							<li class="fragment fade-down">think of the future while paying your respect to the past</li>
						</ul>
					</section>
				</section>
				<section data-background-image="img/blueprint-background.jpg">
					<section><h3>Questions?</h3></section>
					<section>
						<h3>Thank you</h3>

						<small>*images courtesy of <a href="http://unsplash.com">Unsplash</a> and <a href="http://pexels.com">Pexels</a></small>
					</section>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
			});
		</script>
	</body>
</html>
